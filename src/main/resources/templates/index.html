<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">

<div th:replace="fragments/navbar :: navbar" class="sticky top-0 z-50"></div>

<!-- Main Content -->
<div class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">
    <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-6">
        <h2 class="text-2xl sm:text-3xl font-bold text-indigo-700 mb-4 sm:mb-0" th:text="Users"></h2>
        <a href="/admin/users/new" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-colors text-center">
            Create User
        </a>
    </div>
    <!-- User List -->
    <div class="bg-white rounded-2xl shadow-lg divide-y">
        <div th:each="user : ${users}" class="flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 space-y-2 sm:space-y-0">
            <div class="w-full sm:w-auto">
                <p class="font-semibold text-gray-800 break-words" th:text="${user.name}"></p>
                <p class="text-sm text-gray-500 break-words" th:text="${user.email}"></p>
            </div>
            <div class="w-full sm:w-auto flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2">
                <a class="w-full sm:w-auto bg-emerald-500 hover:bg-emerald-600 text-white px-3 py-2 rounded-lg shadow text-sm font-medium text-center"
                   th:href="@{'/entry/' + ${user.id}}">
                    Add Entry
                </a>
                <a th:if="${user.active}"
                   th:href="@{'/admin/users/' + ${user.id} + '/deactivate'}"
                   class="w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg shadow text-sm font-medium text-center">
                    Deactivate
                </a>
                <a th:unless="${user.active}"
                   th:href="@{'/admin/users/' + ${user.id} + '/activate'}"
                   class="w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg shadow text-sm font-medium text-center">
                    Activate
                </a>
            </div>
        </div>
    </div>
</div>

</body>
</html>
